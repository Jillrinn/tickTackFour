# Requirements Document

## Introduction
本仕様は、マルチプレイヤー・ゲームタイマーのフロントエンドUIコントロールを強化し、ユーザビリティと視認性を向上させることを目的としています。プレイヤー人数選択のドロップダウン化、操作頻度に応じたボタン配置の最適化、重要情報の常時表示、カウントモード切替の視覚的改善により、ゲーム進行中の操作性と情報アクセス性を大幅に向上させます。

## Requirements

### Requirement 1: 操作頻度別のボタンセクション分割
**Objective:** ユーザーとして、頻繁に使用するボタンと設定系ボタンを視覚的に区別し、操作効率を向上させたい

#### Acceptance Criteria
1. WHEN ユーザーがゲーム画面を表示した THEN ゲームタイマーは ゲームコントロールを「主要操作」と「設定・その他」の2セクションに分けて表示する
2. WHERE 主要操作セクション THE ゲームタイマーは 「次のプレイヤーへ」「一時停止」「再開」ボタンを配置する
3. WHERE 設定・その他セクション THE ゲームタイマーは 「リセット」「プレイヤー数変更」「カウントモード切替」などの設定系ボタンを配置する
4. WHEN ユーザーがセクション境界を視認した THEN ゲームタイマーは 視覚的な区切り（境界線、余白、背景色等）で2セクションを明確に分離する
5. IF デバイスが375px〜767pxのモバイル画面 THEN ゲームタイマーは セクションを縦方向に積み重ねて配置する
6. IF デバイスが768px以上のタブレット・PC画面 THEN ゲームタイマーは セクションを横方向または最適なレイアウトで配置する

### Requirement 2: 現在プレイヤー情報の画面上部固定表示
**Objective:** ユーザーとして、ゲーム進行中に常に現在のアクティブプレイヤーと経過時間を確認できるよう、画面上部に固定表示したい

#### Acceptance Criteria
1. WHEN ゲームが開始された THEN ゲームタイマーは 画面最上部に固定ヘッダーを表示する
2. WHERE 固定ヘッダー THE ゲームタイマーは 「次のプレイヤーへ」ボタンと現在のアクティブプレイヤー名、その経過時間を表示する
3. WHILE ユーザーがページをスクロールする THE ゲームタイマーは 固定ヘッダーを常に画面上部に表示し続ける（position: sticky または fixed）
4. WHEN アクティブプレイヤーが変更された THEN ゲームタイマーは 固定ヘッダーのプレイヤー名と時間表示を即座に更新する
5. WHEN タイマーが動作中 THEN ゲームタイマーは 固定ヘッダーの経過時間を1秒ごとに更新する
6. IF デバイスが375pxのモバイル画面 THEN ゲームタイマーは 固定ヘッダー内の情報を縦方向または最適なレイアウトで配置する
7. IF デバイスが768px以上の画面 THEN ゲームタイマーは 固定ヘッダー内の情報を横方向に配置する

### Requirement 3: プレイヤー人数選択のドロップダウン化
**Objective:** ユーザーとして、プレイヤー人数を素早く正確に選択できるよう、直感的なドロップダウン（プルダウン）UIを使いたい

#### Acceptance Criteria
1. WHEN ユーザーがゲーム設定画面を表示した THEN ゲームタイマーは プレイヤー人数選択用のドロップダウンコントロールを表示する
2. WHEN ユーザーがドロップダウンを開いた THEN ゲームタイマーは 4人、5人、6人の選択肢を表示する
3. WHEN ユーザーがドロップダウンから人数を選択した THEN ゲームタイマーは 選択された人数に応じてプレイヤー数を即座に変更する
4. WHEN プレイヤー数が変更された THEN ゲームタイマーは 既存のプレイヤー時間データを保持し、追加プレイヤーは初期状態で表示する
5. IF ゲームが進行中（タイマー動作中） THEN ゲームタイマーは プレイヤー人数変更を無効化する

### Requirement 4: カウントモード切替のトグルスイッチUI化
**Objective:** ユーザーとして、カウントアップ/カウントダウンモードを直感的に切り替えられるよう、視覚的に分かりやすいトグルスイッチUIを使いたい

#### Acceptance Criteria
1. WHEN ユーザーがゲーム設定画面を表示した THEN ゲームタイマーは カウントモード切替用のトグルスイッチコントロールを表示する
2. WHERE トグルスイッチ THE ゲームタイマーは 「カウントアップ」と「カウントダウン」の2状態を視覚的に表現する（スイッチの位置と色で区別）
3. WHEN ユーザーがトグルスイッチをクリックした THEN ゲームタイマーは カウントモードを即座に切り替える
4. WHEN カウントモードが「カウントアップ」に切り替わった THEN ゲームタイマーは トグルスイッチを「カウントアップ」位置に表示し、カウントダウン設定UIを非表示にする
5. WHEN カウントモードが「カウントダウン」に切り替わった THEN ゲームタイマーは トグルスイッチを「カウントダウン」位置に表示し、カウントダウン設定UIを表示する
6. IF ゲームが進行中（タイマー動作中） THEN ゲームタイマーは カウントモード切替を無効化する
7. WHILE トグルスイッチがホバー状態 THE ゲームタイマーは 視覚的なフィードバック（色変化、影等）を表示する

### Requirement 5: レスポンシブUIとアクセシビリティ
**Objective:** ユーザーとして、あらゆるデバイスとアクセシビリティニーズに対応した快適なUI体験を得たい

#### Acceptance Criteria
1. WHEN ユーザーが375px〜1440px以上の任意の画面幅でアクセスした THEN ゲームタイマーは 全てのUIコントロールを適切に表示し、操作可能にする
2. WHERE 全てのインタラクティブ要素（ドロップダウン、トグルスイッチ、ボタン） THE ゲームタイマーは data-testid属性を設定し、E2Eテストとアクセシビリティツールで識別可能にする
3. WHEN ユーザーがキーボードでUIを操作した THEN ゲームタイマーは 適切なフォーカス管理とTab順序を提供する
4. WHEN ユーザーがドロップダウンやトグルスイッチを操作した THEN ゲームタイマーは 適切なARIAラベルとロール属性を提供する
5. IF ユーザーがタッチデバイスを使用している THEN ゲームタイマーは 全てのタップターゲットを44px以上のサイズで表示する
