# ONEmore Turn ブランディング設定 - 実装タスク

## TDD実装プロセス（必須）

各タスクの実装時は以下のTDDプロセスに従うこと：
1. **RED phase**: 実装前にテストケースを作成
2. **GREEN phase**: 最小限の実装でテストをパス
3. **REFACTOR phase**: 必要に応じてリファクタリング
4. `npm test`で全テストが成功することを確認

### TDD Implementation Process (Required)

Follow this TDD process for each task implementation:
1. **RED phase**: Create test cases before implementation
2. **GREEN phase**: Minimal implementation to pass tests
3. **REFACTOR phase**: Refactor as needed
4. Run `npm test` to verify all tests pass

## Phase 1: HTMLメタデータ設定

- [x] 1. ブラウザタブタイトルとファビコンを更新する
  - アプリケーション名「ONEmore Turn」をタブタイトルに設定
  - 既存のロゴファイルをファビコンとして設定
  - ブックマークやタブ検索で識別しやすくする
  - 複数タブを開いた時にアプリを簡単に見つけられるようにする
  - _Requirements: 1, 2_

- [x] 2. SEOとソーシャルメディアのメタタグを追加する
  - Open Graphメタタグでソーシャルメディア共有時の表示を最適化
  - Twitterカードメタタグでツイート時の表示を設定
  - アプリケーションの説明文をmeta descriptionに設定
  - 検索エンジン結果ページでの表示を改善
  - _Requirements: 4, 8_

## Phase 2: ヘッダーコンポーネント作成

- [x] 3. ブランドロゴを表示するヘッダーコンポーネントを作成する
  - アプリケーション画面上部にブランドロゴを表示
  - 既存のロゴファイル（テキスト付き）を使用
  - アクセシビリティを考慮した実装（alt属性、セマンティックHTML）
  - スクリーンリーダーで正しく読み上げられるようにする
  - _Requirements: 3, 5, 10_

- [x] 3.1 ヘッダーコンポーネントの基本構造を構築する
  - ブランドロゴを中央配置で表示
  - セマンティックHTMLを使用してアクセシビリティを確保
  - ロゴ画像にalt属性を設定
  - WCAGガイドライン（レベルAA）に準拠したコントラスト比を確保
  - _Requirements: 3, 10_

- [x] 3.2 全デバイス対応のレスポンシブスタイリングを追加する
  - スマートフォン（375px〜767px）で読みやすいサイズのロゴを表示
  - タブレット（768px〜1023px）で中サイズのロゴを表示
  - PC（1024px以上）で大サイズのロゴを表示
  - 画面幅変更時に滑らかにサイズが変化するようにする
  - 縦向き・横向き両方の画面向きに最適化
  - _Requirements: 6_

## Phase 3: アプリケーション統合

- [x] 4. ヘッダーをアプリケーションレイアウトに統合する
  - 既存のゲームタイマーコンポーネントに影響を与えずにヘッダーを追加
  - アプリケーションのルートレベルでヘッダーとゲームタイマーを構成
  - ページの既存コンテンツが意図しない位置にずれないようにする
  - ヘッダー追加後もゲームタイマーの全機能が正常に動作することを確認
  - _Requirements: 7_

- [x] 5. パフォーマンスとアセット最適化を検証する
  - ロゴ画像ファイルのサイズを確認（ヘッダー100KB以下、ファビコン10KB以下推奨）
  - 初回読み込み時のパフォーマンスへの影響を測定
  - ロゴ画像の読み込みがファーストコンテンツフルペイント（FCP）を遅延させないことを確認
  - 必要に応じて画像最適化を実施
  - _Requirements: 9_

## Phase 4: テストと検証

- [x] 6. ヘッダーコンポーネントのユニットテストを作成する
  - コンポーネントが正しくレンダリングされることを検証
  - ロゴ画像が正しいパスで表示されることを確認
  - alt属性が適切に設定されていることを検証
  - CSSクラスが正しく適用されていることを確認
  - _Requirements: 3, 5, 10_

- [x] 7. ブランディング要素のE2Eテストを作成する
  - ブラウザタブのタイトルが「ONEmore Turn」であることを検証
  - ファビコンが正しく読み込まれることを確認
  - アプリ画面上部にヘッダーロゴが表示されることを検証
  - 異なる画面サイズ（375px、768px、1024px、1440px）でロゴサイズが適切に調整されることを確認
  - _Requirements: 1, 2, 3, 6_

- [x] 8. アクセシビリティ準拠を検証する
  - alt属性が存在し適切なテキストが設定されていることを確認
  - セマンティックHTMLが使用されていることを検証
  - スクリーンリーダーでロゴとタイトルが明確に読み上げられることを確認
  - コントラスト比がWCAG AA基準（4.5:1以上）を満たすことを検証
  - _Requirements: 10_

## Phase 5: 最終検証

- [x] 9. 既存機能に回帰がないことを確認する
  - 既存のゲームタイマー機能（プレイヤー管理、タイマー計測、ターン管理）が正常に動作することを検証
  - 既存のUIコントロール（ボタン、プレイヤーカード）の配置と動作が変更されていないことを確認
  - 全ての既存E2Eテストが引き続き成功することを検証
  - ブランディング変更によるレイアウト崩れやスタイル競合がないことを確認
  - _Requirements: 7_

## 要件カバレッジ確認

- **Requirement 1** (ブラウザタブタイトル): タスク1, 7
- **Requirement 2** (ファビコン): タスク1, 7
- **Requirement 3** (アプリ内ヘッダー): タスク3, 3.1, 6, 7
- **Requirement 4** (タイトル統一): タスク2
- **Requirement 5** (ロゴファイル利用): タスク3, 6
- **Requirement 6** (レスポンシブ対応): タスク3.2, 7
- **Requirement 7** (既存機能影響回避): タスク4, 9
- **Requirement 8** (SEO・ソーシャルメディア): タスク2
- **Requirement 9** (パフォーマンス): タスク5
- **Requirement 10** (アクセシビリティ): タスク3, 3.1, 6, 8

## 実装の注意事項

### ファイル構成
- **新規作成**: `AppHeader.tsx`, `AppHeader.css`, テストファイル
- **変更**: `App.tsx`, `index.html`
- **変更なし**: `GameTimer.tsx`およびその他全てのゲーム機能コンポーネント

### コンポーネント設計
- AppHeaderはステートレスなプレゼンテーショナルコンポーネント
- propsを受け取らず、単純にロゴを表示するのみ
- GameTimerとは完全に独立した構造

### スタイリング戦略
- モバイルファーストアプローチ（スマートフォンをベースに拡張）
- CSSメディアクエリで段階的にサイズ調整
- 既存のApp.cssスタイルと競合しないようにクラス名を明確に分離

### テスト戦略
- TDDプロセスに従い、実装前にテストを作成
- ユニットテスト: コンポーネントの基本動作検証
- E2Eテスト: ブラウザでの実際の表示とレスポンシブ動作検証
- アクセシビリティテスト: axe-coreなどのツールで自動検証

### パフォーマンス検証
- `ls -lh frontend/public/"ONEmore Turn"*.png` でファイルサイズ確認
- ブラウザDevToolsでFCP（First Contentful Paint）を測定
- 必要に応じて画像最適化ツール（pngquant、optipng等）を使用

### 回帰テスト
- 実装完了後、`npm test`で全ユニットテスト実行
- `npx playwright test`で全E2Eテスト実行
- 既存機能に影響がないことを確認してからコミット
